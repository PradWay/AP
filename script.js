document.addEventListener('DOMContentLoaded',()=>{const e=document.querySelectorAll('.page'),t=document.getElementById('continueBtn'),n=document.getElementById('yesBtn'),o=document.getElementById('noBtn'),a=document.querySelectorAll('.dot'),s=1,c=document.getElementById('confettiCanvas'),i=c.getContext('2d');c.width=window.innerWidth;c.height=window.innerHeight;let r=[];function d(e){r=[]}function l(t){e.forEach((e,n)=>{e.classList.toggle('active',n+1===t)}),a.forEach((e,n)=>{e.classList.toggle('active',n+1===t)}),s=t,3===t&&function(){for(let e=0;e<80;e++)r.push({x:window.innerWidth/2,y:window.innerHeight/2,vx:(Math.random()-.5)*15,vy:Math.random()*10-5,size:Math.random()*6+3,rotation:Math.random()*360,vrot:(Math.random()-.5)*15,color:['#ff6b9d','#c44569','#feca57','#ff9ff3','#54a0ff','#5f27cd'][Math.floor(6*Math.random())]})}(),2!==t&&3!==t&&d(t)}t.addEventListener('click',()=>l(2)),n.addEventListener('click',()=>l(3)),o.addEventListener('mouseenter',()=>{requestAnimationFrame(()=>{const e=Math.random()*(window.innerWidth-120),t=Math.random()*(window.innerHeight-80);o.style.position='fixed',o.style.left=e+'px',o.style.top=t+'px',o.style.transition='all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)',o.style.transform='scale(1.1)',o.style.zIndex='9999'})}),function e(){c.width=window.innerWidth,c.height=window.innerHeight,i.clearRect(0,0,c.width,c.height),r=r.filter((e=>{if(3===s){if(e.x+=e.vx,e.y+=e.vy,e.vy+=.08,e.rotation+=e.vrot,e.vx*=.99,e.y<c.height+50){i.save(),i.translate(e.x,e.y),i.rotate(e.rotation*Math.PI/180),i.fillStyle=e.color,i.fillRect(-e.size/2,-e.size/2,e.size,e.size),i.restore();return!0}}return!1})),requestAnimationFrame(e)}(),a.forEach((e=>{e.addEventListener('click',()=>{l(parseInt(e.dataset.page))})})),window.addEventListener('resize',()=>{c.width=window.innerWidth,c.height=window.innerHeight})});
